# RTE-Agent 變更導引檢查清單

**目的：** 當 BMAD 工作流程中發現重大變更（pivot、技術問題、需求遺漏、failed story）時，系統性地引導 RTE-Agent 與使用者進行所需的分析與規劃。

**說明：** 請與使用者逐項檢視。已完成/確認請標記為 `[x]`，不適用則標記為 `[N/A]`，或於討論點加註說明。

---

## 1. 理解觸發點與情境

- [ ] **確認觸發 Story：** 明確指出揭露問題的 story（或多個 stories）。
- [ ] **定義問題：** 精確描述核心問題。
  - [ ] 是否為技術限制或死路？
  - [ ] 是否為新發現的需求？
  - [ ] 是否對現有需求有根本性誤解？
  - [ ] 是否因回饋或新資訊而必須 pivot？
  - [ ] 是否為 failed/abandoned story 需新方法？
- [ ] **評估初步影響：** 描述立即觀察到的後果（如進度受阻、功能錯誤、技術不可行等）。
- [ ] **蒐集證據：** 記錄任何支撐問題定義的日誌、錯誤訊息、用戶回饋或分析資料。

## 2. Epic 影響評估

- [ ] **分析當前 Epic：**
  - [ ] 目前包含觸發 story 的 epic 是否仍可完成？
  - [ ] 當前 epic 是否需調整（story 變更、增刪）？
  - [ ] 當前 epic 是否應放棄或根本性重定義？
- [ ] **分析未來 Epics：**
  - [ ] 檢視所有尚未執行的規劃 epics。
  - [ ] 此問題是否需調整未來 epics 中已規劃的 stories？
  - [ ] 此問題是否使某些未來 epics 失效？
  - [ ] 是否需新增全新 epics？
  - [ ] 未來 epics 的順序/優先級是否需調整？
- [ ] **總結 Epic 影響：** 簡要記錄對專案 epic 結構與流程的整體影響。

## 3. 產出物衝突與影響分析

- [ ] **檢視 PRD：**
  - [ ] 問題是否與 PRD 中核心目標或需求衝突？
  - [ ] 根據新理解，PRD 是否需釐清或更新？
- [ ] **檢視架構文件：**
  - [ ] 問題是否與既有架構（元件、模式、技術選擇）衝突？
  - [ ] 是否有特定元件/圖表/章節受影響？
  - [ ] 技術清單是否需更新？
  - [ ] 資料模型或 schema 是否需修正？
  - [ ] 是否影響外部 API 整合？
- [ ] **檢視前端規格（如適用）：**
  - [ ] 問題是否與 FE 架構、元件庫選擇或 UI/UX 設計衝突？
  - [ ] 是否有特定 FE 元件或用戶流程受影響？
- [ ] **檢視其他產出物（如適用）：**
  - [ ] 考慮對部署腳本、IaC、監控設定等的影響。
- [ ] **總結產出物影響：** 列出需更新的所有產出物及其變更內容。

## 4. 後續路徑評估

- [ ] **選項一：直接調整／整合：**
  - [ ] 是否可透過調整/新增未來 stories 於現有規劃中解決問題？
  - [ ] 明確界定這些調整的範圍與性質。
  - [ ] 評估此路徑的可行性、所需努力與風險。
- [ ] **選項二：可能回溯：**
  - [ ] 回溯已完成 stories 是否能大幅簡化問題處理？
  - [ ] 指定需考慮回溯的 stories/commits。
  - [ ] 評估回溯所需的努力。
  - [ ] 評估回溯的影響（失去的工作、資料影響）。
  - [ ] 與直接調整方案比較淨效益/成本。
- [ ] **選項三：PRD MVP 檢視與可能重新定義範疇：**
  - [ ] 考量問題與限制，原 PRD MVP 是否仍可達成？
  - [ ] MVP 範疇是否需縮減（移除功能/epics）？
  - [ ] 核心 MVP 目標是否需修正？
  - [ ] 是否需採用替代方案以達成原 MVP 目標？
  - [ ] **極端情境：** 問題是否需根本性重規劃，或甚至需新 PRD V2（由 PM 處理）？
- [ ] **選擇建議路徑：** 根據評估結果，達成共識選出最可行的後續路徑。

## 5. Sprint 變更提案組成要素

_（確保前述各節所有共識點皆納入提案）_

- [ ] **問題摘要：** 清楚、簡明的問題陳述。
- [ ] **Epic 影響摘要：** 說明 epics 受影響情形。
- [ ] **產出物調整需求：** 需變更的文件清單。
- [ ] **建議後續路徑：** 選定方案及其理由。
- [ ] **PRD MVP 影響：** 範疇/目標變動（如有）。
- [ ] **高層次行動計畫：** stories/更新的下一步。
- [ ] **Agent 交接計畫：** 指明所需角色（PM、Arch、Design Arch、POSM）。

## 6. 最終檢查與交接

- [ ] **檢查清單複核：** 確認所有相關項目均已討論。
- [ ] **Sprint 變更提案複核：** 確保內容正確反映討論與決策。
- [ ] **用戶確認：** 明確取得用戶對提案的同意。
- [ ] **確認後續行動：** 重申交接計畫與各 Agent 的後續行動。

---