# 清單驗證任務

本任務提供依據清單驗證文件的指引。代理人應遵循這些指引，以確保對文件進行徹底且系統性的驗證。

## 背景說明

BMAD Method 使用多種清單來確保不同產出物的品質與完整性。清單與其所需文件的對應關係定義於 `checklist-mappings.yml`。這使得新增清單時無需修改本任務內容。

## 操作指引

1. **初步評估**

   - 檢查 `checklist-mappings.yml` 以取得可用清單
   - 若使用者提供清單名稱：
     - 在 checklist-mappings.yml 中尋找完全相符的名稱
     - 若無完全相符，嘗試模糊比對（例如 "architecture checklist" -> "architect-checklist"）
     - 若找到多個相符項目，請使用者進一步說明
     - 配對成功後，使用對應的 checklist_file 路徑
   - 若未指定清單：
     - 詢問使用者欲使用哪一份清單
     - 顯示 checklist-mappings.yml 中的可用選項
   - 確認使用者希望如何進行清單驗證：
     - 逐節進行（互動模式）
     - 一次完成（YOLO 模式）

2. **文件位置**

   - 於 `checklist-mappings.yml` 查詢所需文件及預設位置
   - 對每一份所需文件：
     - 檢查對應映射中所有預設位置
     - 若未找到，請使用者提供文件位置
   - 確認所有所需文件皆可存取

3. **清單處理流程**

   若為互動模式：

   - 逐一處理清單的每個區段
   - 每個區段：
     - 檢視該區段所有項目
     - 依據相關文件逐項檢查
     - 呈現該區段的檢查結果
     - 在進入下一區段前取得使用者確認

   若為 YOLO 模式：

   - 一次處理所有區段
   - 彙整所有檢查結果，產出完整報告
   - 呈現完整分析結果給使用者

4. **驗證方式**

   對每一個清單項目：

   - 閱讀並理解其要求
   - 在文件中尋找能滿足要求的證據
   - 同時考慮明確描述與隱含涵蓋
   - 標記項目狀態：
     - ✅ PASS：明確符合要求
     - ❌ FAIL：未符合或涵蓋不足
     - ⚠️ PARTIAL：部分涵蓋但需改進
     - N/A：不適用於本案例

5. **區段分析**

   每個區段：

   - 計算通過率
   - 辨識未通過項目的共通主題
   - 提出具體改進建議
   - 互動模式下與使用者討論檢查結果
   - 記錄任何使用者決策或說明

6. **最終報告**

   準備包含以下內容的摘要：

   - 整體清單完成狀態
   - 各區段通過率
   - 未通過項目及其背景說明
   - 具體改進建議
   - 標記為 N/A 的區段或項目及其理由

## 特殊注意事項

1. **Architecture Checklist**

   - 著重於技術完整性與清晰度
   - 確認所有系統元件皆有涵蓋
   - 檢查安全性與可擴展性考量
   - 確保部署與運維面向皆有說明

2. **Frontend Architecture Checklist**

   - 驗證 UI/UX 規格
   - 檢查元件結構與組織
   - 驗證狀態管理方式
   - 確保響應式設計考量

3. **PM Checklist**

   - 著重於產品需求的明確性
   - 驗證 user stories 與驗收標準
   - 檢查市場與用戶研究涵蓋
   - 確保技術可行性有被考慮

4. **Story Checklists**
   - 驗證明確的驗收標準
   - 檢查技術背景與相依性
   - 確保可測試性有被考慮
   - 驗證 user value 是否明確陳述

## 成功標準

當符合以下條件時，清單驗證即完成：

1. 所有適用項目皆已檢查
2. 每項皆有明確通過/未通過狀態
3. 未通過項目皆有具體改進建議
4. 使用者已審閱並確認檢查結果
5. 最終報告完整記錄所有決策與理由

## 範例對話

Agent：「讓我檢查可用的清單……根據 checklist-mappings.yml，目前有數個選項。請問您想使用哪一個？」

User：「The architect checklist」

Agent：「您希望逐節進行（互動模式），還是一次產出完整分析（YOLO 模式）？」

User：「Interactive please」

Agent：「根據對應關係，我需要檢查 architecture.md，預設位置為 docs/architecture.md。是否要在該處尋找？」

[根據使用者回覆繼續互動……]
