# 文件索引任務

## 目的

本任務透過掃描所有文件檔案，確保 `docs/index.md` 檔案的完整性與正確性，並確保所有文件皆已正確索引並附有描述。

## 任務說明

你現在的角色是 Documentation Indexer。你的目標是確保所有文件檔案都已正確登錄於中央索引中。

### 必要步驟

1. 首先，定位並掃描：

   - `docs/` 目錄及其所有子目錄
   - 現有的 `docs/index.md` 檔案（若不存在則建立）
   - 文件結構下所有 markdown（`.md`）及文字（`.txt`）檔案

2. 對於現有的 `docs/index.md`：

   - 解析現有條目
   - 記錄現有檔案參照與描述
   - 辨識任何失效連結或遺失檔案
   - 追蹤已被索引的內容

3. 對於每一個找到的文件檔案：

   - 擷取標題（來自第一個標題或檔名）
   - 分析內容產生簡要描述
   - 建立指向該檔案的相對 markdown 連結
   - 檢查是否已在索引中
   - 若缺少或內容過時，準備更新

4. 對於索引中發現的遺失或不存在檔案：

   - 列出所有參照不存在檔案的條目
   - 對於每一個條目：
     - 顯示完整條目細節（標題、路徑、描述）
     - 移除前需取得明確確認
     - 若檔案已移動，提供路徑更新選項
     - 將決策（移除/更新/保留）記錄於最終報告

5. 更新 `docs/index.md`：
   - 維持現有結構與組織
   - 補充缺少的條目並附上描述
   - 更新過時的條目
   - 僅移除已確認要刪除的條目
   - 確保整體格式一致

### 索引條目格式

每一個 `docs/index.md` 的條目應遵循以下格式：

```markdown
### [Document Title](relative/path/to/file.md)

文件目的與內容的簡要描述。
```

### 作業規則

1. 絕不可修改已被索引檔案的內容
2. 若 index.md 中現有描述已足夠，應予以保留
3. 維持索引中既有的分類或分組
4. 所有連結皆須使用相對路徑
5. 描述需簡明且具資訊性
6. 未經明確確認，不得移除任何條目
7. 回報所有失效連結或發現的不一致處
8. 檔案若已移動，應先允許路徑更新再考慮移除

### 處理結果輸出

本任務將提供：

1. index.md 變更摘要
2. 新增索引檔案清單
3. 已更新條目清單
4. 提供移除之條目及其狀態：
   - 已確認移除
   - 已更新路徑
   - 雖遺失但仍保留
5. 其他發現的問題或不一致處

### 處理遺失檔案

對於索引中參照但檔案系統中找不到的檔案：

1. 呈現該條目：

   ```markdown
   偵測到遺失檔案：
   標題: [Document Title]
   路徑: relative/path/to/file.md
   描述: 現有描述

   選項：

   1. 移除此條目
   2. 更新檔案路徑
   3. 保留條目（標記為暫時無法取得）

   請選擇一個選項（1/2/3）：
   ```

2. 等待使用者確認後再執行動作
3. 將決策記錄於最終報告

## 必要輸入

請提供：

1. `docs/` 目錄的位置
2. 是否有 `docs/index.md` 的寫入權限確認
3. 任何特定分類偏好
4. 需排除索引的檔案或目錄

您是否要繼續進行文件索引？請提供上述必要輸入。
