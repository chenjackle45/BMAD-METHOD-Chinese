# 架構師解決方案驗證清單

此清單作為架構師在開發執行前驗證技術設計與架構的全面框架。架構師應系統性地檢查每個項目，確保架構穩健、可擴展、安全，並符合產品需求。

## 1. 需求對齊

### 1.1 功能需求覆蓋

- [ ] 架構支持 PRD 中的所有功能需求
- [ ] 所有史詩與故事的技術方法已處理
- [ ] 已考慮邊界情況與效能場景
- [ ] 所有必要的整合已納入考量
- [ ] 使用者旅程由技術架構支持

### 1.2 非功能需求對齊

- [ ] 效能需求已以具體解決方案處理
- [ ] 可擴展性考量已記錄並有方法
- [ ] 安全需求有相應的技術控制
- [ ] 可靠性與韌性方法已定義
- [ ] 合規需求有技術實現

### 1.3 技術限制遵守

- [ ] 滿足 PRD 中的所有技術限制
- [ ] 遵循平台/語言需求
- [ ] 考慮基礎設施限制
- [ ] 處理第三方服務限制
- [ ] 遵循組織技術標準

## 2. 架構基礎

### 2.1 架構清晰度

- [ ] 架構以清晰的圖表記錄
- [ ] 定義主要元件及其職責
- [ ] 繪製元件互動與相依性
- [ ] 清楚說明資料流
- [ ] 為每個元件指定技術選擇

### 2.2 關注點分離

- [ ] 清楚劃分 UI、業務邏輯與資料層
- [ ] 元件間的職責劃分清晰
- [ ] 定義元件間的介面
- [ ] 元件遵循單一職責原則
- [ ] 妥善處理橫切關注點（如日誌、驗證等）

### 2.3 設計模式與最佳實踐

- [ ] 使用適當的設計模式
- [ ] 遵循業界最佳實踐
- [ ] 避免反模式
- [ ] 架構風格一致
- [ ] 記錄並解釋模式使用

### 2.4 模組化與可維護性

- [ ] 系統劃分為內聚、鬆耦合的模組
- [ ] 元件可獨立開發與測試
- [ ] 變更可局限於特定元件
- [ ] 程式碼組織促進可發現性
- [ ] 架構專為 AI 代理實現設計

## 3. 技術堆疊與決策

### 3.1 技術選擇

- [ ] 選定技術滿足所有需求
- [ ] 明確定義技術版本（非範圍）
- [ ] 技術選擇有清晰的理由
- [ ] 記錄考慮的替代方案及其優缺點
- [ ] 選定的堆疊元件相互兼容

### 3.2 前端架構

- [ ] 明確選擇 UI 框架與函式庫
- [ ] 定義狀態管理方法
- [ ] 指定元件結構與組織
- [ ] 概述響應式/自適應設計方法
- [ ] 確定建構與打包策略

### 3.3 後端架構

- [ ] 定義 API 設計與標準
- [ ] 服務組織與邊界清晰
- [ ] 指定驗證與授權方法
- [ ] 概述錯誤處理策略
- [ ] 定義後端擴展方法

### 3.4 資料架構

- [ ] 完整定義資料模型
- [ ] 選擇資料庫技術並提供理由
- [ ] 記錄資料存取模式
- [ ] 指定資料遷移/初始化方法
- [ ] 概述資料備份與恢復策略

## 4. 韌性與運營準備

### 4.1 錯誤處理與韌性

- [ ] 錯誤處理策略全面
- [ ] 適當定義重試策略
- [ ] 為關鍵服務指定斷路器或回退機制
- [ ] 定義優雅降級方法
- [ ] 系統可從部分故障中恢復

### 4.2 監控與可觀察性

- [ ] 定義日誌策略
- [ ] 指定監控方法
- [ ] 確定系統健康的關鍵指標
- [ ] 概述警報閾值與策略
- [ ] 內建除錯與故障排除能力

### 4.3 效能與擴展

- [ ] 識別並解決效能瓶頸
- [ ] 適當定義快取策略
- [ ] 指定負載平衡方法
- [ ] 概述水平與垂直擴展策略
- [ ] 提供資源規模建議

### 4.4 部署與 DevOps

- [ ] 定義部署策略
- [ ] 概述 CI/CD 管線方法
- [ ] 指定環境策略（開發、測試、正式）
- [ ] 定義基礎設施即程式碼方法
- [ ] 概述回滾與恢復程序

## 5. 安全與合規

### 5.1 驗證與授權

- [ ] 明確定義驗證機制
- [ ] 指定授權模型
- [ ] 如需，概述基於角色的存取控制
- [ ] 定義會話管理方法
- [ ] 處理憑證管理

### 5.2 資料安全

- [ ] 指定資料加密方法（靜態與傳輸中）
- [ ] 定義敏感資料處理程序
- [ ] 概述資料保留與清除政策
- [ ] 如需，處理備份加密
- [ ] 如需，指定資料存取審計記錄

### 5.3 API 與服務安全

- [ ] 定義 API 安全控制
- [ ] 指定速率限制與節流方法
- [ ] 概述輸入驗證策略
- [ ] 處理 CSRF/XSS 預防措施
- [ ] 指定安全通信協議

### 5.4 基礎設施安全

- [ ] 概述網路安全設計
- [ ] 指定防火牆與安全群組配置
- [ ] 定義服務隔離方法
- [ ] 應用最小權限原則
- [ ] 概述安全監控策略

## 6. 實現指導

### 6.1 程式碼標準與實踐

- [ ] 定義程式碼標準
- [ ] 指定文件需求
- [ ] 概述測試期望
- [ ] 定義程式碼組織原則
- [ ] 指定命名約定

### 6.2 測試策略

- [ ] 定義單元測試方法
- [ ] 概述整合測試策略
- [ ] 指定端到端測試方法
- [ ] 概述效能測試需求
- [ ] 定義安全測試方法

### 6.3 開發環境

- [ ] 記錄本地開發環境設置
- [ ] 指定所需工具與配置
- [ ] 概述開發工作流程
- [ ] 定義版本控制實踐
- [ ] 指定相依管理方法

### 6.4 技術文件

- [ ] 定義 API 文件標準
- [ ] 指定架構文件需求
- [ ] 概述程式碼文件期望
- [ ] 包含系統圖表與可視化
- [ ] 包含關鍵選擇的決策記錄

## 7. 相依與整合管理

### 7.1 外部相依

- [ ] 識別所有外部相依
- [ ] 定義相依版本策略
- [ ] 為關鍵相依指定回退方法
- [ ] 處理授權影響
- [ ] 概述更新與修補策略

### 7.2 內部相依

- [ ] 清楚繪製元件相依
- [ ] 處理建構順序相依
- [ ] 識別共享服務與工具
- [ ] 消除循環相依
- [ ] 定義內部元件版本策略

### 7.3 第三方整合

- [ ] 識別所有第三方整合
- [ ] 定義整合方法
- [ ] 處理與第三方的驗證
- [ ] 指定整合失敗的錯誤處理
- [ ] 考慮速率限制與配額

## 8. AI 代理實現適用性

### 8.1 AI 代理的模組化

- [ ] 元件大小適合 AI 代理實現
- [ ] 最小化元件間的相依
- [ ] 定義元件間的清晰介面
- [ ] 元件具有單一且明確的職責
- [ ] 優化檔案與程式碼組織以利 AI 代理理解

### 8.2 清晰與可預測性

- [ ] 模式一致且可預測
- [ ] 將複雜邏輯分解為簡單步驟
- [ ] 架構避免過於巧妙或晦澀的方法
- [ ] 為不熟悉的模式提供範例
- [ ] 元件職責明確且清晰

### 8.3 實現指導

- [ ] 提供詳細的實現指導
- [ ] 定義程式碼結構範本
- [ ] 記錄具體的實現模式
- [ ] 識別常見陷阱並提供解決方案
- [ ] 在有幫助時提供類似實現的參考

### 8.4 錯誤預防與處理

- [ ] 設計減少實現錯誤的機會
- [ ] 定義驗證與錯誤檢查方法
- [ ] 在可能的情況下納入自我修復機制
- [ ] 清楚定義測試模式
- [ ] 提供除錯指導
