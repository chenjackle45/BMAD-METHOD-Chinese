# 清單驗證任務

此任務提供根據清單驗證文件的說明。代理程式應遵循這些說明，以確保對文件進行徹底且系統的驗證。

## 情境

BMAD 方法使用各種清單來確保不同產出物的品質和完整性。清單與其所需文件之間的對應關係定義在 `checklist-mappings` 中。這使得新增清單變得容易，而無需修改此任務。

## 指示

1.  **初步評估**

    - 檢查 `checklist-mappings` 以了解可用的清單。
    - 如果使用者提供清單名稱：
      - 在 `checklist-mappings.yml` 中尋找完全相符的項目。
      - 如果沒有完全相符的項目，嘗試模糊比對（例如："architecture checklist" -> "architect-checklist"）。
      - 如果找到多個相符項目，請使用者澄清。
      - 一旦比對成功，使用對應關係中的 `checklist_file` 路徑。
    - 如果未指定清單：
      - 詢問使用者想使用哪個清單。
      - 從 `checklist-mappings.yml` 中呈現可用選項。
    - 確認他們是否要逐項完成清單：
      - 逐節進行（互動模式）
      - 一次完成（YOLO 模式）

2.  **文件位置**

    - 在 `checklist-mappings` 中查詢所需文件和預設位置。
    - 對於每個所需文件：
      - 檢查對應關係中指定的所有預設位置。
      - 如果找不到，詢問使用者文件位置。
    - 驗證所有所需文件均可存取。

3.  **清單處理**

    如果在互動模式下：

    - 一次處理清單中的一個章節。
    - 對於每個章節：
      - 檢閱該章節中的所有項目。
      - 根據相關文件檢查每個項目。
      - 呈現該章節的結果。
      - 在繼續下一章節之前取得使用者確認。

    如果在 YOLO 模式下：

    - 一次處理所有章節。
    - 建立一份包含所有結果的綜合報告。
    - 向使用者呈現完整的分析。

4.  **驗證方法**

    對於每個清單項目：

    - 閱讀並理解需求。
    - 在文件中尋找滿足需求的證據。
    - 同時考慮明確提及和隱含涵蓋的情況。
    - 將項目標記為：
      - ✅ PASS：需求明確滿足。
      - ❌ FAIL：需求未滿足或涵蓋不足。
      - ⚠️ PARTIAL：部分方面已涵蓋但需要改進。
      - N/A：不適用於此情況。

5.  **章節分析**

    對於每個章節：

    - 計算通過率。
    - 找出未通過項目中的常見主題。
    - 提供具體的改進建議。
    - 在互動模式下，與使用者討論結果。
    - 記錄任何使用者的決定或解釋。

6.  **最終報告**

    準備一份摘要，包括：

    - 整體清單完成狀態。
    - 各章節的通過率。
    - 未通過項目的清單及其情境。
    - 具體的改進建議。
    - 任何標記為 N/A 的章節或項目及其理由。

## 特殊考量

1.  **Architecture Checklist**

    - 著重於技術的完整性和清晰度。
    - 驗證是否已處理所有系統元件。
    - 檢查安全性和可擴展性考量。
    - 確保已涵蓋部署和營運方面。

2.  **Frontend Architecture Checklist**

    - 驗證 UI/UX 規格。
    - 檢查元件結構和組織。
    - 驗證狀態管理方法。
    - 確保響應式設計考量。

3.  **PM Checklist**

    - 著重於產品需求的清晰度。
    - 驗證 user stories 和 acceptance criteria。
    - 檢查市場和使用者研究的涵蓋範圍。
    - 確保已處理技術可行性。

4.  **Story Checklists**
    - 驗證清晰的 acceptance criteria。
    - 檢查技術情境和相依性。
    - 確保已處理可測試性。
    - 驗證是否清楚陳述使用者價值。

## 成功標準

當滿足以下條件時，清單驗證即完成：

1.  所有適用項目均已評估。
2.  每個項目都有明確的通過/未通過狀態。
3.  為未通過的項目提供了具體的建議。
4.  使用者已檢閱並確認結果。
5.  最終報告記錄了所有決定和理由。

## 互動範例

Agent：「讓我檢查一下可用的清單... 根據 `checklist-mappings.yml`，我們有幾個選項。您想使用哪一個？」

User：「architect checklist」

Agent：「您想要逐節進行（互動模式），還是一次取得完整的分析（YOLO 模式）？」

User：「請用互動模式。」

Agent：「根據對應關係，我需要檢查 `architecture.md`。預設位置是 `docs/architecture.md`。我應該查看那裡嗎？」

[根據使用者回應繼續互動...]
